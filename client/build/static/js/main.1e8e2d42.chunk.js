(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(54)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),l=a.n(r),c=(a(29),a(3)),s=a(4),i=a(6),h=a(5),u=a(7),d=a(56),m=a(58),p=a(57),v=(a(30),a(11)),b=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.props.onSubmit,className:"container"},o.a.createElement("input",{className:"col-8",onChange:this.props.onChange}),o.a.createElement("input",{className:"btn btn-primary col-4 m-auto",type:"submit",value:"Search"}))}}]),t}(n.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement("a",{href:"#",className:"navbar-brand"},"BookShelf"),o.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbar","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{class:"navbar-toggler-icon"})),o.a.createElement("div",{class:"collapse navbar-collapse",id:"navbar"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"col-sm-12 col-lg-6 nav-link",href:"/"},"Search")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"col-sm-12 col-lg-6 nav-link",href:"/saved"},"Saved")))))}}]),t}(n.Component),g=(a(31),function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"bookPrev"},o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.link}," ",o.a.createElement("button",{className:"myButton"},"View")," "),o.a.createElement("button",{className:"myButton",onClick:this.props.handleSave?this.props.handleSave:this.props.handleDelete,id:this.props.id},this.props.handleSave?"Save":"Delete"),o.a.createElement("div",{className:"bookTitle"},this.props.title),o.a.createElement("div",{className:"bookAuthor"},this.props.author),o.a.createElement("img",{className:"bookImg",alt:this.props.title,src:this.props.src}),o.a.createElement("div",{className:"bookDesc"},this.props.description))}}]),t}(n.Component)),k=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.books.map(function(t,a){return o.a.createElement(g,{key:a,handleSave:e.props.handleSave,title:t.volumeInfo.title,author:t.volumeInfo.authors?t.volumeInfo.authors[0]:"Unknown",description:t.searchInfo?t.searchInfo.textSnippet:"unknown",src:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://via.placeholder.com/150x200",link:t.volumeInfo.infoLink,alt:"The bookcover for "+t.volumeInfo.title,id:t.id})})}}]),t}(n.Component),j=a(12),O=a.n(j),E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(h.a)(t).call(this,e))).handleSearchSubmit=function(e){e.preventDefault(),a.search()},a.state={bookResults:null,searchTerm:""},a.handleSearchChange=a.handleSearchChange.bind(Object(v.a)(a)),a.handleSearchSubmit=a.handleSearchSubmit.bind(Object(v.a)(a)),a.handleSave=a.handleSave.bind(Object(v.a)(a)),a.search=a.search.bind(Object(v.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"search",value:function(){var e=this;O.a.get("https://www.googleapis.com/books/v1/volumes?q="+this.state.searchTerm).then(function(t){console.log(t.data.items),e.setState({bookResults:t.data.items,searchTerm:""})})}},{key:"handleSave",value:function(e){e.preventDefault(),console.log(e.target.parentNode.childNodes[3]);var t={link:e.target.parentNode.childNodes[0].href,title:e.target.parentNode.childNodes[2].innerHTML,authors:[e.target.parentNode.childNodes[3].innerHTML],description:e.target.parentNode.childNodes[5].innerHTML,image:e.target.parentNode.childNodes[4].src};e.target.parentNode.outerHTML="",console.log(t),O()({method:"post",url:"/save",responseType:"json",data:t}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){}},{key:"handleSearchChange",value:function(e){e.preventDefault(),this.setState({searchTerm:e.target.value})}},{key:"render",value:function(){var e;return e=this.state.bookResults?o.a.createElement(k,{handleSave:this.handleSave,books:this.state.bookResults}):o.a.createElement("h1",{className:"col-10"},"No search results..."),o.a.createElement("div",null,o.a.createElement(f,null),o.a.createElement(b,{value:this.state.searchTerm,onChange:this.handleSearchChange,onSubmit:this.handleSearchSubmit}),e)}}]),t}(n.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.books.map(function(t,a){return o.a.createElement(g,{key:a,handleDelete:e.props.handleDelete,title:t.title,author:t.authors.pop(),description:t.description,src:t.image,link:t.link,alt:"The bookcover for "+t.title,id:t._id})})}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(h.a)(t).call(this,e))).loadSaved=function(){console.log("LOADING"),O()({method:"get",url:"/API/saved",responseType:"json"}).then(function(e){a.setState({saved:e.data,loading:!1},function(){console.log(this.state.saved)})})},a.state={saved:null},a.handleDelete=a.handleDelete.bind(Object(v.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.loadSaved()}},{key:"handleDelete",value:function(e){var t=this;e.preventDefault(),console.log("CLICKED DELETE "+e.target.id),O.a.delete("/saved/",{data:{id:e.target.id}}).then(function(e){console.log(e),t.loadSaved()})}},{key:"render",value:function(){var e;return e=this.state.saved?o.a.createElement(S,{handleDelete:this.handleDelete,books:this.state.saved}):o.a.createElement("h1",{className:"col-10"},"No saved books..."),o.a.createElement("div",null,o.a.createElement(f,null),e)}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d.a,null,o.a.createElement(m.a,null,o.a.createElement(p.a,{exact:!0,path:"/saved",component:N}),o.a.createElement(p.a,{exact:!0,path:"/",component:E}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.1e8e2d42.chunk.js.map