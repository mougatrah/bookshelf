(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/logo.8033f60e.svg"},24:function(e,t,a){e.exports=a(55)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),l=a.n(r),c=(a(30),a(3)),i=a(4),s=a(6),h=a(5),u=a(7),d=a(57),m=a(59),p=a(58),v=(a(31),a(11)),b=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.props.onSubmit,className:"row"},o.a.createElement("input",{className:"col-8",onChange:this.props.onChange}),o.a.createElement("input",{className:"btn btn-primary col-4 m-auto",type:"submit",value:"Search"}))}}]),t}(n.Component),f=a(22),g=a.n(f),k=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("h3",{className:"logoText"},"BookShelf"),o.a.createElement("img",{src:g.a,alt:"logo",className:"img col-4"}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{className:"col-sm-12 col-lg-6",href:"/"},"Search")),o.a.createElement("li",null,o.a.createElement("a",{className:"col-sm-12 col-lg-6",href:"/saved"},"Saved"))))}}]),t}(n.Component),j=(a(32),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"bookPrev"},o.a.createElement("a",{className:"myButton",target:"_blank",rel:"noopener noreferrer",href:this.props.link},"View"),o.a.createElement("button",{className:"myButton",onClick:this.props.handleSave?this.props.handleSave:this.props.handleDelete,id:this.props.id},this.props.handleSave?"Save":"Delete"),o.a.createElement("div",{className:"bookTitle"},this.props.title),o.a.createElement("div",null,this.props.author),o.a.createElement("img",{className:"bookImg",alt:this.props.title,src:this.props.src}),o.a.createElement("div",{className:"bookDesc"},this.props.description))}}]),t}(n.Component)),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.books.map(function(t,a){return o.a.createElement(j,{key:a,handleSave:e.props.handleSave,title:t.volumeInfo.title,author:t.volumeInfo.authors?t.volumeInfo.authors[0]:"Unknown",description:t.searchInfo?t.searchInfo.textSnippet:"unknown",src:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://via.placeholder.com/150x200",link:t.volumeInfo.infoLink,alt:"The bookcover for "+t.volumeInfo.title,id:t.id})})}}]),t}(n.Component),E=a(12),S=a.n(E),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).handleSearchSubmit=function(e){e.preventDefault(),a.search()},a.state={bookResults:null,searchTerm:"foundation"},a.handleSearchChange=a.handleSearchChange.bind(Object(v.a)(a)),a.handleSearchSubmit=a.handleSearchSubmit.bind(Object(v.a)(a)),a.handleSave=a.handleSave.bind(Object(v.a)(a)),a.search=a.search.bind(Object(v.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"search",value:function(){var e=this;S.a.get("https://www.googleapis.com/books/v1/volumes?q="+this.state.searchTerm).then(function(t){console.log(t.data.items),e.setState({bookResults:t.data.items,searchTerm:""})})}},{key:"handleSave",value:function(e){e.preventDefault(),console.log(e.target.parentNode.childNodes[3]);var t={link:e.target.parentNode.childNodes[0].href,title:e.target.parentNode.childNodes[2].innerHTML,authors:[e.target.parentNode.childNodes[3].innerHTML],description:e.target.parentNode.childNodes[5].innerHTML,image:e.target.parentNode.childNodes[4].src};console.log(t),S()({method:"post",url:"/save",responseType:"json",data:t}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.search()}},{key:"handleSearchChange",value:function(e){e.preventDefault(),this.setState({searchTerm:e.target.value})}},{key:"render",value:function(){if(this.state.bookResults)var e=o.a.createElement(O,{handleSave:this.handleSave,books:this.state.bookResults});return o.a.createElement("div",null,o.a.createElement(k,null),o.a.createElement(b,{value:this.state.searchTerm,onChange:this.handleSearchChange,onSubmit:this.handleSearchSubmit}),e)}}]),t}(n.Component),N=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.books.map(function(t,a){return o.a.createElement(j,{key:a,handleDelete:e.props.handleDelete,title:t.title,author:t.authors.pop(),description:t.description,src:t.image,link:t.link,alt:"The bookcover for "+t.title,id:t._id})})}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(h.a)(t).call(this,e))).loadSaved=function(){console.log("LOADING"),S()({method:"get",url:"/API/saved",responseType:"json"}).then(function(e){a.setState({saved:e.data,loading:!1},function(){console.log(this.state.saved)})})},a.state={saved:[{title:"test",authors:["tester"],description:"very nice",link:"adssad",image:"awdwasd",id:"ID",loading:!0}]},a.handleDelete=a.handleDelete.bind(Object(v.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadSaved()}},{key:"handleDelete",value:function(e){var t=this;e.preventDefault(),console.log("CLICKED DELETE "+e.target.id),S.a.delete("/saved/",{data:{id:e.target.id}}).then(function(e){console.log(e),t.loadSaved()})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(k,null),o.a.createElement("h1",null,"Saved books:"),o.a.createElement(N,{handleDelete:this.handleDelete,books:this.state.saved}))}}]),t}(n.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(d.a,null,o.a.createElement(m.a,null,o.a.createElement(p.a,{exact:!0,path:"/saved",component:w}),o.a.createElement(p.a,{exact:!0,path:"/",component:y}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.80dd3f67.chunk.js.map